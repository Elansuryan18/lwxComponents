<aura:component controller="LightningDependentPicklistCmpController" implements="force:appHostable,flexipage:availableForAllPageTypes,flexipage:availableForRecordHome,force:hasRecordId,forceCommunity:availableForAllPageTypes,force:lightningQuickAction" access="global" >
    <aura:handler name="init" value="{!this}" action="{!c.doInit}" />
    <aura:attribute name="newItem" type ="Camping_Items__c"
                    default="{'sobjectType':'Camping_Items__c','Quantity__c':'0','Price__c':'0','Insurance_covered__c':false}"/>
                     
        <aura:registerEvent name="addItem" type="c:addItemEvent"/> <aura:attribute name="showcomponent" type="boolean" default="false"/>
        <aura:attribute name="selectCoverage" type="String" default=""/>
        <lightning:layout class="slds-page-header slds-page-header--object-home">
            <lightning:layoutItem> 
                <lightning:icon iconName="standard:product_required" alternativeText="Campign Items"/>
            </lightning:layoutItem>
            <lightning:layoutItem padding="horizontal-small">
                <div class="page-section page-header">
                    <h2 class="slds-text-heading--medium">Gears for your adventure</h2>
                </div>
            </lightning:layoutItem>
        </lightning:layout>
    
    
    
    
   
    <!-- aura attributes--> 
    <aura:attribute name="parentList" type="list" default="[]" description=""/>
    <aura:attribute name="childList" type="list" default="[]"/>
    <aura:attribute name="pickListMap" type="map"/>
    <aura:attribute name="disabledChildField" type="boolean" default="true"/>
    
    <aura:attribute name="objectName" type="string" default="Camping_Items__c"/>
    <aura:attribute name="parentFieldAPI" type="string" default="Shop_by_activity__c"/>
    <aura:attribute name="childFieldAPI" type="string" default="Accessories__c"/>
    <aura:attribute name="parentFieldLabel" type="string" />
    <aura:attribute name="childFieldLabel" type="string"/>
    <aura:attribute name="parentValue" type="string" default=""/>
    <aura:attribute name="childValue" type="string" default=""/>
    
    
   <lightning:card title="">
        <!-- Controller Field -->
        <lightning:layoutItem size="12" padding="around-small">    
            <lightning:select name="parentField" aura:id="parentField"
                              value="{!v.parentValue}"
                              label="{!v.parentFieldLabel}"
                              onchange="{!c.parentFieldChange}">
                <aura:iteration items="{!v.parentList}" var="value">
                    <option value="{!value}">{!value}</option>
                </aura:iteration>
            </lightning:select>
        </lightning:layoutItem>
        
        <!--Dependent Field-->
        <lightning:layoutItem size="12" padding="around-small">
            <lightning:select name="accesoryName"
                              value="{!v.newItem.Name}"
                              label="{!v.childFieldLabel}"
                              disabled="{!v.disabledChildField}">
                <aura:iteration items="{!v.childList}" var="value">
                    <option value="{!value}">{!value}</option>
                </aura:iteration>
            </lightning:select>
        </lightning:layoutItem>
       
       <form class="slds-form--stacked">
           <lightning:input label="Quantity" value="{!v.newItem.Quantity__c}" aura:id="data"/>
           <lightning:input label="Price" formatter="currency" value="{!v.newItem.Price__c}" aura:id="data"/>
           
           
           <lightning:input label="Is it need to be Insured?" type="checkbox" checked="{!v.newItem.Insurance_covered__c}" onchange="{!c.handleChange}" aura:id="firstcheck"/>
           
           <aura:if isTrue="{!v.showcomponent}">
               
               <ui:inputSelect aura:Id="optionCoverage" multiple="false" value="{!v.selectCoverage}" label="Insurance Coverage" class="select__c">
               <ui:inputSelectOption label="Select Coverage" text="" /> 
               <ui:inputSelectOption label="Basic Coverage-10% of original Price" text="Basic"/>
               <ui:inputSelectOption label="Premium Coverage-20% of original Price" text="Full"/>
               </ui:inputSelect>
           </aura:if>
          </form>
                                                                                                                                                                                                                                                                                                                                  
                                                                                                                                                                                                                                                                                                                                
    <lightning:button variant="brand" label="Add to cart" title="Brand action" onclick="{!c.handleClick }" /></lightning:card>
</aura:component>